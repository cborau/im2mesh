


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Usage &#8212; im2mesh 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/cloud.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>

    
    
     
        <script src="_static/jquery.cookie.js"></script>
    

    
     
        <script src="_static/cloud.base.js"></script>
    

    
     
        <script src="_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="analyze_slice_opencv" href="api/formatreader.analyze_slice_opencv.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="api/formatreader.analyze_slice_opencv.html" title="analyze_slice_opencv"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">im2mesh 1.0 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Usage</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="usage">
<h1><a class="toc-backref" href="#id4" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h1>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#usage" id="id4">Usage</a></p>
<ul>
<li><p><a class="reference internal" href="#examples-of-batch-usage" id="id5">Examples of batch usage</a></p></li>
<li><p><a class="reference internal" href="#module-formatreader" id="id6">formatreader Module</a></p></li>
<li><p><a class="reference internal" href="#module-formatwriter" id="id7">formatwriter Module</a></p></li>
<li><p><a class="reference internal" href="#module-sliceinterpolator" id="id8">sliceinterpolator Module</a></p></li>
<li><p><a class="reference internal" href="#module-visualization" id="id9">visualization Module</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="examples-of-batch-usage">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Examples of batch usage</a><a class="headerlink" href="#examples-of-batch-usage" title="Permalink to this heading">¶</a></h2>
<p>You can find simple working examples under the /examples folder.
Parameters used are defined in params.txt for each example.</p>
<p><strong>Example 1:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">main</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">b</span> <span class="o">--</span><span class="n">path</span> <span class="s2">&quot;./examples/ex1_letters/input&quot;</span>
    <span class="o">--</span><span class="nb">format</span> <span class="s2">&quot;image&quot;</span> <span class="o">--</span><span class="n">n_interp</span> <span class="mi">60</span>  <span class="o">--</span><span class="n">z_size</span> <span class="mf">90.0</span>
    <span class="o">--</span><span class="n">target_faces</span> <span class="mi">50000</span> <span class="o">--</span><span class="n">sampling_factor</span> <span class="mf">0.1</span>
    <span class="o">--</span><span class="n">min_mesh_size</span> <span class="mf">5.0</span> <span class="o">--</span><span class="n">max_mesh_size</span> <span class="mf">5.0</span>
    <span class="o">--</span><span class="n">output_dir</span> <span class="s2">&quot;./examples/ex1_letters/output&quot;</span> <span class="o">--</span><span class="n">export_vtk</span>
</pre></div>
</div>
</section>
<section id="module-formatreader">
<span id="formatreader-module"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">formatreader Module</a><a class="headerlink" href="#module-formatreader" title="Permalink to this heading">¶</a></h2>
<p>Code containing all functions related to format reading and mask obtention</p>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this heading">¶</a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="api/formatreader.analyze_slice_opencv.html#formatreader.analyze_slice_opencv" title="formatreader.analyze_slice_opencv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">analyze_slice_opencv</span></code></a>(mask, z_pos[, show_plots])</p></td>
<td><p>OpenCV implementation to obtain the contours present in the slice.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api/formatreader.contour_from_3dmask.html#formatreader.contour_from_3dmask" title="formatreader.contour_from_3dmask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">contour_from_3dmask</span></code></a>(mask, slices[, n_interp])</p></td>
<td><p>From a 3D array containing the semgentation and the list of slices, it creates a set of interpolated slices between each pair of adjacent real slices using the sliceinterpolator module.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="api/formatreader.dilate_countour.html#formatreader.dilate_countour" title="formatreader.dilate_countour"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dilate_countour</span></code></a>(img[, n_iter, circle_size])</p></td>
<td><p>Dilates the image to capture the external contour afterwards.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api/formatreader.get_largest_CC.html#formatreader.get_largest_CC" title="formatreader.get_largest_CC"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_largest_CC</span></code></a>(mask)</p></td>
<td><p>Retrieves the largest connected component in a 3D volume (biggest separated object).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="api/formatreader.get_mask.html#formatreader.get_mask" title="formatreader.get_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_mask</span></code></a>(selected_path, file_format[, ...])</p></td>
<td><p>Calls the corresponding function depending on the file format selected and retrieves its outputs.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api/formatreader.get_mask_dcmseg.html#formatreader.get_mask_dcmseg" title="formatreader.get_mask_dcmseg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_mask_dcmseg</span></code></a>(filename[, mask_id, ...])</p></td>
<td><p>Retrieves the surface points of the 3D volume defined by the masks of a DICOM seg file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="api/formatreader.get_mask_dicom.html#formatreader.get_mask_dicom" title="formatreader.get_mask_dicom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_mask_dicom</span></code></a>(directory[, n_interp, ...])</p></td>
<td><p>Retrieves the surface points of the 3D volume defined by a DICOM file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api/formatreader.get_mask_from_images.html#formatreader.get_mask_from_images" title="formatreader.get_mask_from_images"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_mask_from_images</span></code></a>(dirname, ext[, z_size, ...])</p></td>
<td><p>Retrieves the surface points of the 3D volume defined in multiple individual images.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="api/formatreader.get_mask_nifti.html#formatreader.get_mask_nifti" title="formatreader.get_mask_nifti"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_mask_nifti</span></code></a>(filename[, mask_id, ...])</p></td>
<td><p>Retrieves the surface points of the 3D volume defined by a NIfTI file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api/formatreader.get_numbers_from_filename.html#formatreader.get_numbers_from_filename" title="formatreader.get_numbers_from_filename"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_numbers_from_filename</span></code></a>(filename)</p></td>
<td><p>Read numbers in a filename.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">label</span></code>(label_image[, background, return_num, ...])</p></td>
<td><p>Label connected regions of an integer array.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api/formatreader.smooth_mask.html#formatreader.smooth_mask" title="formatreader.smooth_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">smooth_mask</span></code></a>(img[, n_iter, circle_size])</p></td>
<td><p>Smooths the input image via erosion/dilation operations.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="api/formatreader.voxel2space.html#formatreader.voxel2space" title="formatreader.voxel2space"><code class="xref py py-obj docutils literal notranslate"><span class="pre">voxel2space</span></code></a>(transformation_matrix, ...)</p></td>
<td><p>Transforms the coordinates in voxel CSYS to real world, using the transformation matrix generated using the get_val_pos() function.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="module-formatwriter">
<span id="formatwriter-module"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">formatwriter Module</a><a class="headerlink" href="#module-formatwriter" title="Permalink to this heading">¶</a></h2>
<p>Code containing all functions related to format writing (stl, gsmh mesh, ansys)</p>
<section id="id1">
<h3>Functions<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="api/formatwriter.mesh3d_from_stl.html#formatwriter.mesh3d_from_stl" title="formatwriter.mesh3d_from_stl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mesh3d_from_stl</span></code></a>(output_dir, output_prefix[, ...])</p></td>
<td><p>Generates a 3D FE mesh using linear tetrahedrons from a 3D .stl file using the GMSH library.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api/formatwriter.stl_from_3dply.html#formatwriter.stl_from_3dply" title="formatwriter.stl_from_3dply"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stl_from_3dply</span></code></a>(total_points_3d, output_dir, ...)</p></td>
<td><p>Creates a 3D STL object from a given 3D point cloud using the pymeshlab library.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="api/formatwriter.write_abaqus_inp.html#formatwriter.write_abaqus_inp" title="formatwriter.write_abaqus_inp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_abaqus_inp</span></code></a>(nodes, elements, ...)</p></td>
<td><p>Exports the given mesh data (nodes and connectivity) as a compatible ANSYS input file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api/formatwriter.write_ansys_inp.html#formatwriter.write_ansys_inp" title="formatwriter.write_ansys_inp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_ansys_inp</span></code></a>(nodes, elements, output_dir, ...)</p></td>
<td><p>Exports the given mesh data (nodes and connectivity) as a compatible ANSYS input file.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="module-sliceinterpolator">
<span id="sliceinterpolator-module"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink">sliceinterpolator Module</a><a class="headerlink" href="#module-sliceinterpolator" title="Permalink to this heading">¶</a></h2>
<p>Code with utilities to interpolate coordinates between two countours</p>
<section id="id2">
<h3>Functions<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="api/sliceinterpolator.bwdist.html#sliceinterpolator.bwdist" title="sliceinterpolator.bwdist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bwdist</span></code></a>(im)</p></td>
<td><p>Find euclidean distance map of image</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api/sliceinterpolator.bwperim.html#sliceinterpolator.bwperim" title="sliceinterpolator.bwperim"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bwperim</span></code></a>(bw[, n])</p></td>
<td><p>Find the perimeter of objects in binary images.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">distance_transform_edt</span></code>(input[, sampling, ...])</p></td>
<td><p>Exact Euclidean distance transform.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpn</span></code>(points, values, xi[, method, ...])</p></td>
<td><p>Multidimensional interpolation on regular or rectilinear grids.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="api/sliceinterpolator.interpshape.html#sliceinterpolator.interpshape" title="sliceinterpolator.interpshape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpshape</span></code></a>(top, bottom, position)</p></td>
<td><p>Find interpolated shape at specific position between top and bottom</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api/sliceinterpolator.ndgrid.html#sliceinterpolator.ndgrid" title="sliceinterpolator.ndgrid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndgrid</span></code></a>(*args, **kwargs)</p></td>
<td><p>Same as calling numpy <code class="docutils literal notranslate"><span class="pre">meshgrid</span></code> with <em>indexing</em> = <code class="docutils literal notranslate"><span class="pre">'ij'</span></code> (see <code class="docutils literal notranslate"><span class="pre">meshgrid</span></code> for documentation).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="api/sliceinterpolator.signedbwdist.html#sliceinterpolator.signedbwdist" title="sliceinterpolator.signedbwdist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">signedbwdist</span></code></a>(im)</p></td>
<td><p>Find perim and return masked image (signed/reversed)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="module-visualization">
<span id="visualization-module"></span><h2><a class="toc-backref" href="#id9" role="doc-backlink">visualization Module</a><a class="headerlink" href="#module-visualization" title="Permalink to this heading">¶</a></h2>
<p>Code with utilities to visualize (e.g. point clouds)</p>
<section id="id3">
<h3>Functions<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="api/visualization.progressbar.html#visualization.progressbar" title="visualization.progressbar"><code class="xref py py-obj docutils literal notranslate"><span class="pre">progressbar</span></code></a>(iteration, total[, prefix, ...])</p></td>
<td><p>Call in a loop to create terminal progress bar</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="api/visualization.show_point_cloud.html#visualization.show_point_cloud" title="visualization.show_point_cloud"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show_point_cloud</span></code></a>(coords)</p></td>
<td><p>Shows point cloud in 3D</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Usage</a><ul>
<li><a class="reference internal" href="#examples-of-batch-usage">Examples of batch usage</a></li>
<li><a class="reference internal" href="#module-formatreader">formatreader Module</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-formatwriter">formatwriter Module</a><ul>
<li><a class="reference internal" href="#id1">Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-sliceinterpolator">sliceinterpolator Module</a><ul>
<li><a class="reference internal" href="#id2">Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-visualization">visualization Module</a><ul>
<li><a class="reference internal" href="#id3">Functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="installation.html"
                          title="Previous page">&larr; Installation</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="api/formatreader.analyze_slice_opencv.html"
                          title="Next page">&rarr; analyze_slice_opencv</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/usage.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="api/formatreader.analyze_slice_opencv.html" title="analyze_slice_opencv"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">im2mesh 1.0 documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Usage</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, C.Borau &amp; D.Sainz.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.2.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>